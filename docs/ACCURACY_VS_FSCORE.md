# Accuracyä¸ºä»€ä¹ˆå¡åœ¨92-93%?

## ğŸ” é—®é¢˜åˆ†æ

### ç°è±¡
- Training Accuracy: 92-93%
- Validation Accuracy: 88-90%
- **ä½† F-Scoreåªæœ‰68-69%**

çœ‹èµ·æ¥å¾ˆçŸ›ç›¾?å…¶å®ä¸çŸ›ç›¾!

## ğŸ“Š æ ¹æœ¬åŸå› : ç±»åˆ«æåº¦ä¸å¹³è¡¡

### æ•°æ®é›†ç±»åˆ«åˆ†å¸ƒ

| ç±»åˆ«ç»„ | ç±»åˆ« | å æ¯” | å½±å“ |
|--------|------|------|------|
| ğŸŸ¢ **å¤§ç±»åˆ«** | background, skin, hair | **85%** | ä¸»å¯¼accuracy |
| ğŸŸ¡ **ä¸­ç­‰** | nose, neck, cloth | 10% | ä¸­ç­‰å½±å“ |
| ğŸ”´ **å°ç±»åˆ«** | çœ¼ç›ã€å˜´å·´ã€çœ‰æ¯› | **5%** | å¯¹F-Scoreå½±å“å¤§ |

å…·ä½“åˆ†å¸ƒ:
```
hair        31.53%  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
background  28.39%  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
skin        25.27%  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
neck         4.03%  â–ˆâ–ˆâ–ˆâ–ˆ
cloth        3.52%  â–ˆâ–ˆâ–ˆ
nose         2.08%  â–ˆâ–ˆ
...
l_eye        0.23%  (å‡ ä¹çœ‹ä¸è§!)
r_eye        0.23%  
mouth        0.27%  
```

## ğŸ’¡ ä¸ºä»€ä¹ˆAccuracyæœ‰æ¬ºéª—æ€§?

### è®¡ç®—ç¤ºä¾‹

å‡è®¾æ¨¡å‹æ€§èƒ½:
- **å¤§ç±»åˆ« (85%)**: å‡†ç¡®ç‡ 95%
- **å°ç±»åˆ« (5%)**: å‡†ç¡®ç‡ 20% (å¾ˆå·®!)

**æ•´ä½“Accuracyè®¡ç®—:**
```
Accuracy = 0.95 Ã— 0.85 + 0.20 Ã— 0.05
         = 0.8075 + 0.01
         = 0.8175 = 81.8%
```

çœ‹èµ·æ¥è¿˜ä¸é”™!ä½†å®é™…ä¸Š:
- âŒ çœ¼ç›åˆ†å‰²: 20%æ­£ç¡® (éå¸¸å·®!)
- âŒ å˜´å·´åˆ†å‰²: 20%æ­£ç¡® (éå¸¸å·®!)
- âœ… ä½†Accuracyæ˜¾ç¤º81.8% (çœ‹èµ·æ¥è¿˜è¡Œ)

**F-Scoreè®¡ç®—** (class-averaged):
```
F-Score = (å¤§ç±»åˆ«F1 + å°ç±»åˆ«F1) / ç±»åˆ«æ•°
        = (0.95Ã—3 + 0.20Ã—16) / 19
        = 0.44 = 44%
```

F-Scoreæ­ç¤ºçœŸç›¸: **æ¨¡å‹åœ¨å°ç›®æ ‡ä¸Šè¡¨ç°å¾ˆå·®!**

## ğŸ¯ ä¸ºä»€ä¹ˆå…³æ³¨F-Scoreè€Œä¸æ˜¯Accuracy?

### Accuracyçš„é—®é¢˜

1. **è¢«å¤§ç±»åˆ«ä¸»å¯¼**
   - Backgroundå 30% â†’ æ­£ç¡®é¢„æµ‹backgroundå°±èƒ½æ‹¿30åˆ†
   - å°ç±»åˆ«å…¨é”™,Accuracyè¿˜èƒ½>70%

2. **ä¸åæ˜ å°ç›®æ ‡æ€§èƒ½**
   - çœ¼ç›åˆ†å‰²å®Œå…¨å¤±è´¥,Accuracyå‡ ä¹ä¸å—å½±å“
   - ä½†å®é™…åº”ç”¨ä¸­,çœ¼ç›åˆ†å‰²å¾ˆé‡è¦!

3. **ç»™äººè™šå‡çš„å®‰å…¨æ„Ÿ**
   - 92% Accuracy â†’ "æ¨¡å‹å¾ˆå¥½!"
   - å®é™…: å°ç›®æ ‡éƒ½åˆ†å‰²ä¸å‡ºæ¥

### F-Scoreçš„ä¼˜åŠ¿

1. **Class-averaged**: æ¯ä¸ªç±»åˆ«æƒé‡ç›¸åŒ
2. **å…¼é¡¾precisionå’Œrecall**
3. **åæ˜ çœŸå®æ€§èƒ½**

## ğŸ“ˆ å¦‚ä½•çªç ´F-Scoreç“¶é¢ˆ?

### âœ… æ–¹æ¡ˆ1: å¢å¼ºDice Lossæƒé‡ (æ¨è)

```yaml
loss:
  ce_weight: 1.0
  dice_weight: 2.0  # ä»1.5å¢åŠ åˆ°2.0
```

**åŸç†**: Dice Losså¯¹å°ç›®æ ‡æ›´æ•æ„Ÿ

**é¢„æœŸ**: F-Score 0.689 â†’ 0.70-0.71

---

### âœ… æ–¹æ¡ˆ2: ä½¿ç”¨Class-wise Weights

ä¸ºå°ç±»åˆ«å¢åŠ æŸå¤±æƒé‡:

```python
# æ ¹æ®inverse frequencyè®¡ç®—
class_weights = {
    'background': 0.5,
    'skin': 0.7,
    'hair': 0.7,
    'l_eye': 5.0,  # å°ç±»åˆ«é«˜æƒé‡
    'r_eye': 5.0,
    'mouth': 4.0,
    ...
}
```

**é¢„æœŸ**: F-Score +1-2%

---

### âœ… æ–¹æ¡ˆ3: ä¸¤é˜¶æ®µè®­ç»ƒ

**Stage 1**: å…¨å±€åˆ†å‰²
- è®­ç»ƒ100 epochs
- å­¦ä¹ å¤§è‡´ç»“æ„

**Stage 2**: å°ç›®æ ‡ç²¾ä¿®
- è£å‰ªåŒ…å«å°ç›®æ ‡çš„patches
- ä¸“é—¨è®­ç»ƒçœ¼ç›ã€å˜´å·´ç­‰
- ç²¾ç»†è°ƒæ•´50 epochs

**é¢„æœŸ**: F-Score +2-3%

---

### âš ï¸ ä¸æ¨è: ç»§ç»­ä¼˜åŒ–Accuracy

**ä¸ºä»€ä¹ˆ?**
- Accuracyå·²ç»92%å¾ˆé«˜äº†
- å†æå‡å¯¹F-Scoreå¸®åŠ©ä¸å¤§
- å¯èƒ½è¿‡æ‹Ÿåˆåœ¨å¤§ç±»åˆ«ä¸Š

## ğŸ¬ å®é™…æ¡ˆä¾‹

### Case 1: åªçœ‹Accuracyçš„é™·é˜±

```
Model A:
  Accuracy: 93% âœ¨
  F-Score:  0.65 âŒ
  â†’ å¤§ç±»åˆ«å¥½,å°ç±»åˆ«å·®

Model B:
  Accuracy: 89% 
  F-Score:  0.70 âœ…
  â†’ å„ç±»åˆ«å¹³è¡¡
```

**Leaderboardæ’å**: Model Bæ›´å¥½!

### Case 2: æˆåŠŸä¼˜åŒ–

```
Before:
  Accuracy: 92.3%
  F-Score:  0.689
  ç­–ç•¥: æ ‡å‡†è®­ç»ƒ

After:
  Accuracy: 91.8% (ç•¥é™)
  F-Score:  0.72 (+3%)
  ç­–ç•¥: Dice weight 2.0 + class weights
```

**å…³é”®**: ç‰ºç‰²ä¸€ç‚¹Accuracy,æ¢å–F-Scoreå¤§å¹…æå‡!

## ğŸ¯ ç»“è®º

### æ ¸å¿ƒè§‚ç‚¹

1. **Accuracy 92-93%ä¸æ˜¯ç“¶é¢ˆ**
   - è¿™æ˜¯ç±»åˆ«ä¸å¹³è¡¡çš„å¿…ç„¶ç»“æœ
   - ç»§ç»­ä¼˜åŒ–Accuracyæ„ä¹‰ä¸å¤§

2. **F-Scoreæ‰æ˜¯çœŸæ­£çš„ç›®æ ‡**
   - åæ˜ å„ç±»åˆ«å¹³è¡¡æ€§èƒ½
   - æ˜¯leaderboardçš„è¯„ä»·æŒ‡æ ‡

3. **è§£å†³æ–¹å‘**
   - âœ… å¢å¼ºDice Loss
   - âœ… Class-wise weights
   - âœ… å…³æ³¨å°ç›®æ ‡
   - âŒ ä¸è¦åªçœ‹Accuracy

### è¡ŒåŠ¨å»ºè®®

**ç«‹å³å°è¯•:**
```bash
# ä½¿ç”¨å¢å¼ºDiceé…ç½®
python main.py --config configs/lmsa_enhanced_dice_v2.yaml
```

**é¢„æœŸæ•ˆæœ:**
- Accuracy: å¯èƒ½é™åˆ°90-91% (æ­£å¸¸!)
- F-Score: æå‡åˆ°0.70-0.72 (çœŸæ­£çš„è¿›æ­¥!)

**è®°ä½:**
> Accuracy is vanity, F-Score is sanity!
> (Accuracyè™šè£,F-Scoreæ¸…é†’!)

---

## ğŸ“š ç›¸å…³èµ„æº

- [Class Imbalance in Semantic Segmentation](https://arxiv.org/abs/1807.10221)
- [Dice Loss for Medical Image Segmentation](https://arxiv.org/abs/1606.04797)
- [Focal Loss for Dense Object Detection](https://arxiv.org/abs/1708.02002)
